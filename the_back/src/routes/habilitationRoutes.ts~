import express from 'express';
import habilitationController from '../controllers/habilitationController';
import authController from '../controllers/authController';

const router = express.Router();

router.use(authController.protect);

// Menu routes
router.post('/menu', habilitationController.createMenu);
router.get('/menu', habilitationController.getAllMenus);

// Permission routes
router.post('/permission', habilitationController.createPermission);
router.get('/permission', habilitationController.getAllPermissions);

// Fonction routes
router.post('/fonction', habilitationController.createFonction);
router.get('/fonction', habilitationController.getAllFonctions);

// Liaison Fonction-Menu-Permission routes
router.post(
  '/fonction-menu-permission',
  habilitationController.createFonctionMenuPermission,
);
router.get(
  '/fonction-menu-permission',
  habilitationController.getAllFonctionMenuPermissions,
);

export default router;
